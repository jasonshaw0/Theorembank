---
import Layout from '../../../layouts/BaseLayout.astro';
---

<Layout title="Integration">
  <h1>Integration</h1>
  <p>Essential formulas for integration in calculus.</p>

  <div class="formula-grid">
    <div class="formula-card">
      <h3>Power Rule for Integration</h3>
      <div class="formula">$$\int x^n \, dx = \frac{x^{n+1}}{n+1} + C \quad (n \neq -1)$$</div>
      <p>For any real number n except -1.</p>
      <button class="copy-btn" data-latex="\\int x^n \\, dx = \\frac{x^{n+1}}{n+1} + C">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Exponential Function</h3>
      <div class="formula">$$\int e^x \, dx = e^x + C$$</div>
      <p>Integral of the exponential function.</p>
      <button class="copy-btn" data-latex="\\int e^x \\, dx = e^x + C">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Natural Logarithm</h3>
      <div class="formula">$$\int \frac{1}{x} \, dx = \ln|x| + C$$</div>
      <p>Integral that gives the natural logarithm.</p>
      <button class="copy-btn" data-latex="\\int \\frac{1}{x} \\, dx = \\ln|x| + C">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Integration by Parts</h3>
      <div class="formula">$$\int u \, dv = uv - \int v \, du$$</div>
      <p>Technique for integrating products of functions.</p>
      <button class="copy-btn" data-latex="\\int u \\, dv = uv - \\int v \\, du">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Trigonometric Integrals</h3>
      <div class="formula">$$\int \sin(x) \, dx = -\cos(x) + C$$</div>
      <div class="formula">$$\int \cos(x) \, dx = \sin(x) + C$$</div>
      <button class="copy-btn" data-latex="\\int \\sin(x) \\, dx = -\\cos(x) + C">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Fundamental Theorem of Calculus</h3>
      <div class="formula">$$\int_a^b f(x) \, dx = F(b) - F(a)$$</div>
      <p>Where F'(x) = f(x).</p>
      <button class="copy-btn" data-latex="\\int_a^b f(x) \\, dx = F(b) - F(a)">Copy LaTeX</button>
    </div>
  </div>

  <script>
    // Load KaTeX for math rendering
    import('https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js').then(() => {
      import('https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js').then(() => {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ]
        });
      });
    });

    // Add event listeners after DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      const copyButtons = document.querySelectorAll('.copy-btn');
      copyButtons.forEach(button => {
        button.addEventListener('click', function() {
          const latex = this.getAttribute('data-latex');
          navigator.clipboard.writeText(latex).then(() => {
            this.textContent = 'Copied!';
            setTimeout(() => this.textContent = 'Copy LaTeX', 1500);
          });
        });
      });
    });
  </script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  
  <style>
    .formula-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .formula-card {
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 1.5rem;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .formula-card h3 {
      margin: 0 0 1rem 0;
      color: #2563eb;
    }
    
    .formula {
      font-size: 1.1rem;
      margin: 1rem 0;
      padding: 1rem;
      background: #f8fafc;
      border-radius: 4px;
      overflow-x: auto;
    }
    
    .copy-btn {
      background: #2563eb;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
    }
    
    .copy-btn:hover {
      background: #1d4ed8;
    }
  </style>
</Layout> 