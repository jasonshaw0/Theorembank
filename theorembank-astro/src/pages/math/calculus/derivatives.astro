---
import Layout from '../../../layouts/BaseLayout.astro';
---

<Layout title="Derivatives">
  <h1>Derivatives</h1>
  <p>Essential formulas for differentiation in calculus.</p>

  <div class="formula-grid">
    <div class="formula-card">
      <h3>Power Rule</h3>
      <div class="formula">$$\frac{d}{dx}[x^n] = nx^{n-1}$$</div>
      <p>For any real number n.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}[x^n] = nx^{n-1}">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Product Rule</h3>
      <div class="formula">$$\frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x)$$</div>
      <p>Derivative of a product of two functions.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x)">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Chain Rule</h3>
      <div class="formula">$$\frac{d}{dx}[f(g(x))] = f'(g(x)) \cdot g'(x)$$</div>
      <p>Derivative of composite functions.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}[f(g(x))] = f'(g(x)) \\cdot g'(x)">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Quotient Rule</h3>
      <div class="formula">$$\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$$</div>
      <p>Derivative of a quotient of functions.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}\\left[\\frac{f(x)}{g(x)}\\right] = \\frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Exponential Function</h3>
      <div class="formula">$$\frac{d}{dx}[e^x] = e^x$$</div>
      <p>The exponential function is its own derivative.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}[e^x] = e^x">Copy LaTeX</button>
    </div>

    <div class="formula-card">
      <h3>Natural Logarithm</h3>
      <div class="formula">$$\frac{d}{dx}[\ln(x)] = \frac{1}{x}$$</div>
      <p>Derivative of the natural logarithm.</p>
      <button class="copy-btn" data-latex="\\frac{d}{dx}[\\ln(x)] = \\frac{1}{x}">Copy LaTeX</button>
    </div>
  </div>

  <script>
    // Load KaTeX for math rendering
    import('https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js').then(() => {
      import('https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js').then(() => {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ]
        });
      });
    });

    // Add event listeners after DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      const copyButtons = document.querySelectorAll('.copy-btn');
      copyButtons.forEach(button => {
        button.addEventListener('click', function() {
          const latex = this.getAttribute('data-latex');
          navigator.clipboard.writeText(latex).then(() => {
            this.textContent = 'Copied!';
            setTimeout(() => this.textContent = 'Copy LaTeX', 1500);
          });
        });
      });
    });
  </script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  
  <style>
    .formula-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .formula-card {
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 1.5rem;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .formula-card h3 {
      margin: 0 0 1rem 0;
      color: #2563eb;
    }
    
    .formula {
      font-size: 1.1rem;
      margin: 1rem 0;
      padding: 1rem;
      background: #f8fafc;
      border-radius: 4px;
      overflow-x: auto;
    }
    
    .copy-btn {
      background: #2563eb;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
    }
    
    .copy-btn:hover {
      background: #1d4ed8;
    }
  </style>
</Layout> 